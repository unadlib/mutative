"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[6903],{6606:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>c,contentTitle:()=>o,default:()=>l,frontMatter:()=>s,metadata:()=>i,toc:()=>d});var n=a(5893),r=a(1151);const s={sidebar_position:3},o="makeCreator()",i={id:"api-reference/makecreator",title:"makeCreator()",description:"makeCreator() only takes options as the first argument, resulting in a custom create() function.",source:"@site/docs/api-reference/makecreator.md",sourceDirName:"api-reference",slug:"/api-reference/makecreator",permalink:"/docs/api-reference/makecreator",draft:!1,unlisted:!1,editUrl:"https://github.com/unadlib/mutative/tree/main/website/docs/api-reference/makecreator.md",tags:[],version:"current",lastUpdatedBy:"unadlib",lastUpdatedAt:1702119575,formattedLastUpdatedAt:"Dec 9, 2023",sidebarPosition:3,frontMatter:{sidebar_position:3},sidebar:"tutorialSidebar",previous:{title:"apply()",permalink:"/docs/api-reference/apply"},next:{title:"current()",permalink:"/docs/api-reference/current"}},c={},d=[{value:"Usage",id:"usage",level:2}];function u(e){const t={a:"a",code:"code",h1:"h1",h2:"h2",p:"p",pre:"pre",...(0,r.a)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(t.h1,{id:"makecreator",children:"makeCreator()"}),"\n",(0,n.jsxs)(t.p,{children:[(0,n.jsx)(t.code,{children:"makeCreator()"})," only takes ",(0,n.jsx)(t.a,{href:"/docs/api-reference/create#createstate-fn-options---options",children:"options"})," as the first argument, resulting in a custom ",(0,n.jsx)(t.code,{children:"create()"})," function."]}),"\n",(0,n.jsx)(t.h2,{id:"usage",children:"Usage"}),"\n",(0,n.jsx)(t.p,{children:"This function can be particularly useful when dealing with drafts in state management. After initiating changes using mutative create, a draft state is created, which is a mutable proxy of the original state. This draft state can be modified without affecting the original state. The current() function allows you to access the state of this draft at any time, providing a snapshot of the state at the moment of invocation."}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-ts",children:"const baseState = {\n  foo: {\n    bar: 'str',\n  },\n};\n\nconst create = makeCreator({\n  enablePatches: true,\n});\n\nconst [state, patches, inversePatches] = create(baseState, (draft) => {\n  draft.foo.bar = 'new str';\n});\n\n// you can use the custom `create()` function option to override the default `makeCreator()` options like this:\nconst nextState = create(\n  baseState,\n  (draft) => {\n    draft.foo.bar = 'new str';\n  },\n  {\n    enablePatches: false,\n  }\n);\n"})})]})}function l(e={}){const{wrapper:t}={...(0,r.a)(),...e.components};return t?(0,n.jsx)(t,{...e,children:(0,n.jsx)(u,{...e})}):u(e)}},1151:(e,t,a)=>{a.d(t,{Z:()=>i,a:()=>o});var n=a(7294);const r={},s=n.createContext(r);function o(e){const t=n.useContext(s);return n.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function i(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:o(e.components),n.createElement(s.Provider,{value:t},e.children)}}}]);